<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.springlec.base.dao.UserDao">

	<insert id="signUp1">
		INSERT INTO user(uid, uPassword, uName, uNickName, uPhone, uEmail, uGender, uBirthday, uInsertDate)
		VALUES(#{uid}, #{uPassword}, #{uName}, #{uNickName}, #{uPhone}, #{uEmail}, #{uGender}, #{uBirthday}, now())
	</insert>
	
	<insert id="signUp2">
		INSERT INTO userAddress(uaNo, uid, uaAddress, uaDetailAddress, uaZipcode)
		VALUES(1, #{uid}, #{uaAddress}, #{uaDetailAddress}, #{uaZipcode})
	</insert>
	
	<select id="checkDuplicateId" resultType="int">
		SELECT count(*) FROM user WHERE uid = #{uid}
	</select>
	
	<select id="statusCheck" resultType="int">
		SELECT uSecessionStatus FROM user WHERE uid = #{uid}
	</select>
	
	<select id="existCheck" resultType="int">
		SELECT count(*) FROM user WHERE uid = #{uid}
	</select>
	
	<select id="accordCheck" resultType="int">
		SELECT count(*) FROM user WHERE uid = #{uid} AND uPassword = #{uPassword}
	</select>
	
	<select id="getUserNickname" resultType="String">
		SELECT uNickName FROM user WHERE uid = #{uid}
	</select>
	
</mapper>